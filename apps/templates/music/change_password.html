{% extends "Base.html" %}
{% load static %}
{% block title %}Change Password{% endblock %}
{% block content %}


<script src="{% static 'music/js/jquery-2.2.4.min.js' %}"></script>
<script src="{% static 'music/js/password_strength_check.js' %}"></script>




    <div class="row mr-0">
        <div class="col">
            {% include 'music/side_bar.html' %}
        </div>
        <div class="col">
            <div class="mx-auto" style="width: 900px;">
                <div class="card" style="width:30rem;">
                    <div class="card-header">
                                Change Password
                        </div>
                    {% if form.errors %}
                        {% for field in form %}
                            {% for error in field.errors %}
                                <div class="alert alert-danger alert-dismissible">
                                    <a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a><strong>{{ error|escape }}</strong>
                                </div>
                            {% endfor %}
                        {% endfor %}
                        {% for error in form.non_field_errors %}
                            <div class="alert alert-danger alert-dismissible">
                                <a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a><strong>{{ error|escape }}</strong>
                            </div>
                        {% endfor %}
                    {% endif %}
                    <div class="card-body">
    
                    
                    <form action="{% url 'change_password' %}" method="POST" name="registrationForm" class="password-strength form needs-validation" novalidate>
                        {% csrf_token %}
                        <div class="form-group">
                            <label class = "exampleInputPassword1">Old Password </label>
                            <input type="password" name="old_password" autofocus required id="id_old_password"  class="form-control"  placeholder="Enter Old Password" data-toggle="password">
                        <div>
                            <br>
                        <div class="form-group">
                            <label class = "exampleInputPassword2">New Password</label>
                            <input type="password" name="new_password1" required id="id_password"  class="form-control password-strength__input"  placeholder="Enter New Password"  data-toggle="password" onkeyup="checkConditoin();">
                            <div class="invalid-feedback">
                                Please provide a valid password.
                              </div>
                        <div class="password-strength__bar-block progress mb-4">
                            <div class="password-strength__bar progress-bar bg-danger" role="progressbar" aria-valuenow="0"
                                aria-valuemin="0" aria-valuemax="100"></div>
                        </div>
                      
                        <small class="password-strength__error text-danger js-hidden"></small><small
                            class="form-text text-muted mt-2" id="passwordHelp">
                            <ul class="pl-3 text-dark">
                                <li>
                                    <div class="custom-control custom-checkbox">
                                        <input type="checkbox" class="custom-control-input" id="customCheck1" disabled>
                                        <label class="custom-control-label" for="customCheck1">Atleast 1 Lowercase
                                            Letter</label>
                                    </div>
                                </li>
                                <li>
                                    <div class="custom-control custom-checkbox">
                                        <input type="checkbox" class="custom-control-input" id="customCheck2" disabled>
                                        <label class="custom-control-label" for="customCheck2">Atleast 1 Uppercase
                                            Letters</label>
                                    </div>
                                </li>
    
                                <li>
                                    <div class="custom-control custom-checkbox">
                                        <input type="checkbox" class="custom-control-input" id="customCheck4" disabled>
                                        <label class="custom-control-label" for="customCheck4">Atleast 1 Special
                                            Character</label>
                                    </div>
                                </li>
    
    
    
                                <li>
                                    <div class="custom-control custom-checkbox">
                                        <input type="checkbox" class="custom-control-input" id="customCheck3" disabled>
                                        <label class="custom-control-label" for="customCheck3">Numeric Numbers</label>
                                    </div>
                                </li>
                                <li>
                                    <div class="custom-control custom-checkbox">
                                        <input type="checkbox" class="custom-control-input" id="customCheck5" disabled>
                                        <label class="custom-control-label" for="customCheck5">Atleast Add 9 charachters or
                                            more</label>
                                    </div>
                                </li>
                            </ul>
                        </small>
                        <div>
                            <br>
                                <div class="form-group">
                                        <label class = "exampleInputPassword3">Confirm New Password</label>
                                        <input type="password" name="new_password2" required id="id_password2"  class="form-control"  placeholder="Enter New Confirm Password"  data-toggle="password"
                                        onchange="Validate();">

                                        <div class="invalid-feedback font-weight-bold" id="matchPassword">
                            
                                        </div>
                                  
                                    <div>
                            <div class="float-right mt-2">
                                <a href="{% url 'change_password' %}" type="button" class="btn btn-danger" >Cancel </a>
                        <button type="submit" class="btn btn-success" value="Change Password">Change Password</button>
                            </div>
                            
                        
                    </form>
                </div>
                </div>
            </div>
        </div>

    </div>

        




    <script src="{% static 'music/js/bootstrap-password-toggler.js' %}" type="text/javascript"></script>
    <script src="{% static 'music/js/register_form_validation.js' %}"></script>
    
    
    <script type="text/javascript">
        function Validate() {
    
            var password = document.getElementById("id_password").value;
            var confirmPassword = document.getElementById("id_password2").value;
            if (password != confirmPassword) {
                $("#matchPassword").css("display", "block");
                $("#matchPassword").html("New Password and Confirm Password doesn't match.")
            }
            else{
                $("#matchPassword").css("display", "block");
                $("#matchPassword").css("color", "green");
                $("#matchPassword").html("Both New and Confirm Passwords matched.")
            }
            
        }
    </script>




{% endblock content %}