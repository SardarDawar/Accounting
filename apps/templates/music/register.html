{% extends "Base.html" %}
{% load static %}
{% block title %}Registration{% endblock %}



    {% block content %}

    <style>
     input::-webkit-inner-spin-button, input::-webkit-outer-spin-button{ -webkit-appearance:none; } input[type="number"]{ -moz-appearance:textfield; }
    </style>
    <br>
    <div class="mx-auto" style="width: 500px;">
            <div class="card" style="width: 30rem;">
                    <div class="card-header text-center">
                            Registration Form
                    </div>
                          {% if form.errors %}
                                {% for field in form %}
                                    {% for error in field.errors %}
                                        <div class="alert alert-danger alert-dismissible">
                                            <a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a>
                                            <strong>{{ error|escape }}</strong>
                                        </div>
                                    {% endfor %}
                                {% endfor %}
                            {% endif %}

                            {% if form_2.errors %}
                            {% for field in form_2 %}
                                {% for error in field.errors %}
                                    <div class="alert alert-danger alert-dismissible">
                                        <a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a>
                                        <strong>{{ error|escape }}</strong>
                                    </div>
                                {% endfor %}
                            {% endfor %}
                            {% for error in form_2.non_field_errors %}
                            <div class="alert alert-danger alert-dismissible">
                                <a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a>
                                <strong>{{ error|escape }}</strong>
                            </div>
                        {% endfor %}
                    
                            
                        {% endif %}
            
                    
                    <div class="card-body">
                            <form action="{% url 'register' %}" method="POST" name="registrationForm">
                                    {% csrf_token %}
                                    <div  class="form-group">
                                        <label for="id_username" >Username</label>
                                        <input type="text" name="username" maxlength="150" required id="id_username" class="form-control"  placeholder="Enter User" value="{% if form.username.value %}{{ form.username.value }}{% endif %}">
                                        <small id="usernameHelpInline" class="text-muted">
                                                Required. 150 characters or fewer. Letters, digits and @/./+/-/_ only.
                                              </small>
                                    </div>

                                    <div class="form-group">
                                            <label for="id_first_name">First name</label>
                                            <input type="text" name="first_name" maxlength="30" id="id_first_name" class="form-control"  placeholder="Enter First Name" value="{% if form.first_name.value %}{{ form.first_name.value }}{% endif %}">
                                    </div>
                                    
                                    <div class="form-group">
                                            <label for="id_last_name">Last name</label>
                                            <input type="text" name="last_name" maxlength="150" id="id_last_name" class="form-control"  placeholder="Enter Last Name" value="{% if form.last_name.value %}{{ form.last_name.value }}{% endif %}">
                                    </div>

                                    <div class="form-group">
                                            <label for="id_password">Password</label>
                                            <input type="password" name="password" required id="id_password" class="form-control"  placeholder="Enter Password" value="{% if form.password.value %}{{ form.password.value }}{% endif %}">
                                            <small id="passwordHelpInline" class="text-muted">
                                                    <ul>
                                                        <li>Your password can&#39;t be too similar to your other personal information.</li>
                                                        <li>Your password must contain at least 8 characters.</li>
                                                        <li>Your password can&#39;t be a commonly used password.</li>
                                                        <li>Your password can&#39;t be entirely numeric.</li>
                                                    </ul>
                                            </small>
                                    </div>

                                    <div class="form-group">
                                            <label for="id_password2">Confirm Password</label>
                                            <input type="password" name="password2" required id="id_password2" class="form-control"  placeholder="Enter Confirm Password" value="{% if form.password2.value %}{{ form.password2.value }}{% endif %}">
                                            <small id="passwordHelpInline" class="text-muted">
                                                    Both Passwords should be same.
                                            </small>
                                    </div>

                                    <div class="form-group">
                                            <label for="id_email">Email Address</label>
                                            <input type="text" name="email" required id="id_email" class="form-control"  placeholder="Enter Email"  value="{% if form.email.value %}{{ form.email.value }}{% endif %}">
                                            
                                    </div>

                                    <div class="form-group">
                                            <label for="id_contactNumber">Contact Number</label>
                                            <input type="text" name="contactNumber" id="id_contactNumber" required="" class="form-control" maxlength="12"  placeholder="Enter Contact Number" value="{% if form_2.contactNumber.value %}{{ form_2.contactNumber.value }}{% endif %}">
                                            <small id="passwordHelpInline" class="text-muted">
                                                Contact Number Format : 123-123-1234
                                        </small>
                                    </div>
                                    <p class="text-center">
                                        <a type="button" class="btn btn-primary" value="Sign-Up" href="{% url 'home' %}">Cancel</a>
                                        <input type="hidden" name="next" value="{{ request.GET.next }}"/>
                                        <button type="submit" class="btn btn-primary" value="Sign-Up">Get Register</button>
                                    </p>
                                            
                                        
                                </form>
                    
                    </div>
            </div>
        </div>


        <script src="{% static 'music/js/jquery-2.2.4.min.js' %}"></script>


        <script>
            $(document).ready(function()
            {
                var $form = $( "#registrationForm" );
                var $input = $( '#id_contactNumber' );
                $input.on( "keyup", function( event ) {
                    
                                       
                  // 1
var $this = $(this);
var input = $this.val();
 
// 2
var input = input.replace(/[\D\s\._\-]+/g, "");
 
 
// 3
var split = 3;
var chunk = [];
 
for (var i = 0, len = input.length; i < len; i += split) {
    split = ( i >= 4 && i <= 10 ) ? 4 : 3;
    chunk.push( input.substr( i, split ) );
}
 
// 4
$this.val(function() {
    return chunk.join("-").toUpperCase();
});
                   
                } );
            });
        </script>
       
{% endblock content %}